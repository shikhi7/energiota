<!doctype html>
<html>
  <head>
    <title>energiota</title>
    <!--<link rel="stylesheet" type="text/css" href="theme.css"/>-->
  </head>

  <script src="/socket.io/socket.io.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
  <script>
    $(function() {
      var socket = io();
      $('#gA').submit(function(){
        socket.emit('new address', "hihi");
        return false;
      });
      socket.on('new address', function(addr){
        $('#forAddr').append(addr);
      });
      $('#gAccI').submit(function(){
        socket.emit('account info', "hihi");
        return false;
      });
      socket.on('account info', function(info){
        //let useful = info.inputs;
        let i;
        let cont = '';
        for (i=0; i<info.length; i++){
          cont += JSON.stringify(info[i]) + "<br>";
        }
        $('#forAccInfo').append(cont);
      });
      $('#gU').submit(function(){
        socket.emit('used address', "hihi");
        return false;
      });
      socket.on('used address', function(info){
        //let useful = info.balance;
        let i;
        for (i=0; i<info.length; i++){
          $('#forUsed').append(info[i] + "<br>");
        }
      });
    });
  </script>

  <body>

    <div>
    <form id="gA" action = "" method = "POST">
      <input type = "submit" value = "Get New Address">
    </form>
    <p id="forAddr"></p>
    </div>

    <div>
    <form id="gU" action = "" method = "POST">
      <input type = "submit" value = "Get All Used Address">
    </form>
    <p id="forUsed"></p>
    </div>

    <div>
    <form id="gAccI" action = "" method = "POST">
      <input type = "submit" value = "Get Account Info">
    </form>
    <p id="forAccInfo"></p>
    </div>

    <div>
    <form id="gB" action = "" method = "POST">
      <input type = "submit" value = "Get Total Balance">
    </form>
    <p id="forBal"></p>
    </div>

  </body>
</html>
